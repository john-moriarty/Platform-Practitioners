import React, { useState } from "react";

function DataRobotLogo() {
  return (
    <svg
      width="120"
      height="18"
      viewBox="0 0 120 18"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M77.1191 16.0069L73.8383 10.073V10.0707H73.8406L73.815 10.024H70.8772V16.0046H68.8635V1.99707H74.6317C76.0947 1.99707 77.2241 2.35408 78.0805 3.08911C78.9322 3.8218 79.3452 4.74817 79.3452 5.91955C79.3452 7.84228 78.1131 9.31 76.0481 9.84669L75.9361 9.87702L79.4455 16.0069H77.1191ZM74.494 3.72613H70.8772V8.30197H74.494C76.3841 8.30197 77.3408 7.54594 77.3408 6.02222C77.3408 4.49849 76.3841 3.72613 74.494 3.72613ZM100.612 14.8542C99.7256 15.8036 98.5944 16.2843 97.2532 16.2846C95.8722 16.2842 94.5963 15.6239 93.9245 14.5625L93.7612 14.3035V15.9975H91.8734V1.99937H93.7612V7.86092L93.9245 7.61124C94.6479 6.5052 95.9312 5.84484 97.357 5.84484C98.6847 5.84484 99.758 6.31853 100.633 7.2939C101.52 8.24126 101.968 9.52931 101.968 11.0647C101.968 12.6001 101.513 13.8741 100.612 14.8542ZM94.5639 8.57727C93.9434 9.21639 93.6284 10.056 93.6282 11.0682C93.6284 12.0757 93.9434 12.92 94.5639 13.5801C95.1939 14.2311 95.9452 14.5602 96.8343 14.5602C97.7233 14.5602 98.512 14.2218 99.1117 13.5801C99.7394 12.9104 100.045 12.0867 100.045 11.0694C100.045 10.052 99.73 9.2143 99.1117 8.57961C98.5097 7.91458 97.735 7.57624 96.8343 7.57624C95.9336 7.57624 95.1915 7.90525 94.5639 8.57727ZM118.595 16.2939C119.119 16.2938 119.59 16.2214 119.996 16.0792L119.832 14.5088C119.587 14.5741 119.373 14.6045 119.16 14.6045C118.185 14.6045 117.693 14.0771 117.693 13.0388V7.62056H119.94V6.13884H117.693V3.42274H115.805V6.13884H114.181V7.62523H115.805V13.4074C115.805 15.3484 116.717 16.2935 118.595 16.2939ZM112.331 7.30314C111.327 6.33244 109.962 5.79809 108.59 5.84242C107.169 5.84242 105.921 6.31377 104.875 7.24014C103.816 8.17584 103.303 9.42655 103.303 11.0669C103.303 12.7073 103.769 13.8344 104.728 14.7561V14.7514L104.875 14.8821C105.921 15.8108 107.169 16.2798 108.585 16.2798C109.967 16.3218 111.327 15.7921 112.328 14.8191C113.031 14.1377 113.868 12.9337 113.868 11.0599C113.868 9.18621 113.031 7.97984 112.328 7.30081L112.331 7.30314ZM110.961 13.5824C110.31 14.2311 109.502 14.5601 108.564 14.5601C107.626 14.5601 106.842 14.2311 106.191 13.5824C105.557 12.9477 105.235 12.1007 105.235 11.0693C105.235 10.0379 105.557 9.18855 106.191 8.55619C106.842 7.9075 107.643 7.57849 108.564 7.57849C109.486 7.57849 110.307 7.9075 110.961 8.55619C111.609 9.20488 111.939 10.0519 111.939 11.0693C111.939 12.0867 111.609 12.936 110.961 13.5824ZM88.9963 7.30314C87.9929 6.33244 86.6278 5.79809 85.2558 5.84242C83.8347 5.84242 82.5863 6.31377 81.541 7.24014C80.4816 8.17584 79.9683 9.42655 79.9683 11.0669C79.9683 12.7073 80.4349 13.8344 81.394 14.7561V14.7514L81.541 14.8821C82.5863 15.8108 83.8347 16.2798 85.2511 16.2798C86.6348 16.3218 87.9929 15.7921 88.9939 14.8191C89.6963 14.1377 90.534 12.9337 90.534 11.0599C90.534 9.18621 89.6963 7.97984 88.9939 7.30081L88.9963 7.30314ZM87.6289 13.5824C86.9778 14.2311 86.1705 14.5601 85.2324 14.5601C84.2944 14.5601 83.5104 14.2311 82.8594 13.5824C82.2247 12.9477 81.9027 12.1007 81.9027 11.0693C81.9027 10.0379 82.2247 9.18855 82.8594 8.55619C83.5104 7.9075 84.3107 7.57849 85.2324 7.57849C86.1541 7.57849 86.9755 7.9075 87.6289 8.55619C88.2776 9.20488 88.6066 10.0519 88.6066 11.0693C88.6066 12.0867 88.2776 12.9337 87.6289 13.5824ZM62.3976 5.85646H62.1876C61.0769 5.8868 60.1995 6.16214 59.5135 6.69883C58.8905 7.18884 58.5428 7.74653 58.4541 8.40456C58.4541 8.40456 58.4051 8.7989 58.3981 9.00891H60.1669C60.1692 8.78957 60.2485 8.40689 60.2485 8.40689C60.3815 7.66719 61.1959 7.20985 62.3976 7.20985C63.835 7.20985 64.5934 7.84453 64.5934 9.04158V9.5456L61.3382 10.0636C59.1332 10.4066 57.8685 11.578 57.8685 13.2791C57.8685 15.0805 59.2102 16.2915 61.2052 16.2915C62.7196 16.2915 63.8163 15.6195 64.4674 14.2964L64.6354 13.9534V16.0092H66.4834L66.4858 9.17225C66.4858 7.0045 65.074 5.85646 62.3999 5.85646H62.3976ZM64.5957 11.312C64.5794 13.3351 63.324 14.7445 61.5296 14.7445C60.4725 14.7445 59.7609 14.1074 59.7609 13.1577C59.7609 12.208 60.4399 11.6013 61.7816 11.368L64.6027 10.8826L64.5957 11.312ZM56.8208 16.0792C56.4151 16.2214 55.9442 16.2938 55.4196 16.2939C53.542 16.2935 52.63 15.3484 52.63 13.4074V7.62523H51.006V6.13884H52.63V3.42274H54.5178V6.13884H56.7648V7.62056H54.5178V13.0388C54.5178 14.0771 55.0101 14.6045 55.9855 14.6045C56.1978 14.6045 56.4125 14.5741 56.6575 14.5088L56.8208 16.0792ZM45.9283 5.85646H45.7183C44.6075 5.8868 43.7302 6.16214 43.0442 6.69883C42.4211 7.18884 42.0735 7.74653 41.9848 8.40456C41.9848 8.40456 41.9358 8.7989 41.9288 9.00891H43.6975C43.6998 8.78957 43.7792 8.40689 43.7792 8.40689C43.9122 7.66719 44.7265 7.20985 45.9283 7.20985C47.3656 7.20985 48.124 7.84453 48.124 9.04158V9.5456L44.8689 10.0636C42.6638 10.4066 41.3991 11.578 41.3991 13.2791C41.3991 15.0805 42.7408 16.2915 44.7359 16.2915C46.2503 16.2915 47.347 15.6195 47.998 14.2964L48.166 13.9534V16.0092H50.0141L50.0164 9.17225C50.0164 7.0045 48.6047 5.85646 45.9306 5.85646H45.9283ZM48.1263 11.312C48.11 13.3351 46.8546 14.7445 45.0602 14.7445C44.0032 14.7445 43.2915 14.1074 43.2915 13.1577C43.2915 12.208 43.9705 11.6013 45.3122 11.368L48.1333 10.8826L48.1263 11.312ZM40.3655 9.00438C40.3655 11.2328 39.6795 12.9759 38.3285 14.1822V14.1846C36.9658 15.4073 35.2134 16.0023 32.9733 16.0023H28.9668V2.00179H32.9733C35.162 2.00179 36.9634 2.62015 38.3285 3.84053C39.7005 5.07024 40.3655 6.77597 40.3655 9.00438ZM33.0129 3.81019H30.9759V14.2032H33.1016V14.1986C36.4151 14.1636 38.3121 12.3062 38.3121 9.00438C38.3121 5.70259 36.3801 3.81019 33.0129 3.81019Z"
        fill="white"
      />
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M0.799805 0H10.1335V1.99974H0.799805V0ZM14.8002 1.99977H10.1334V3.99951H14.8002V1.99977ZM0.799805 3.99953H10.1335V5.99927H0.799805V3.99953ZM19.4672 6.00147H14.8003V8.00121H19.4672V6.00147ZM0.799805 8.00136H14.8003V10.0011H0.799805V8.00136ZM19.4672 10.0011H14.8003V12.0009H19.4672V10.0011ZM0.799805 12.0008H10.1335V14.0005H0.799805V12.0008ZM14.8002 14.0005H10.1334V16.0003H14.8002V14.0005ZM10.1335 16.0003H0.799805V18H10.1335V16.0003Z"
        fill="white"
      />{" "}
    </svg>
  );
}

const GradientBar = () => (
  <svg
    width="100%"
    height="10"
    viewBox="0 0 1440 10"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
    preserveAspectRatio="none"
  >
    <g clipPath="url(#clip0_196_6045)">
      <rect width="30" height="10" fill="#231F20" />
      <rect x="33" width="30" height="10" fill="#231F20" />
      <rect x="66" width="30" height="10" fill="#231F20" />
      <rect x="99" width="30" height="10" fill="#6C6A6B" />
      <rect x="132" width="20" height="10" fill="#6C6A6B" />
      <rect x="155" width="20" height="10" fill="#A2A2A2" />
      <rect x="178" width="20" height="10" fill="#A2A2A2" />
      <rect x="201" width="10" height="10" fill="#A2A2A2" />
      <rect x="214" width="10" height="10" fill="#E4E4E4" />
      <rect x="227" width="10" height="10" fill="#E4E4E4" />
      <rect x="240" width="10" height="10" fill="#E4E4E4" />
      <rect x="253" width="10" height="10" fill="#E4E4E4" />
      <rect x="266" width="10" height="10" fill="#FFFF55" />
      <rect x="279" width="10" height="10" fill="#FFFF55" />
      <rect x="292" width="10" height="10" fill="#EDFE60" />
      <rect x="305" width="10" height="10" fill="#EDFE60" />
      <rect x="318" width="10" height="10" fill="#BFFD7E" />
      <rect x="331" width="10" height="10" fill="#BFFD7E" />
      <rect x="344" width="10" height="10" fill="#81FBA5" />
      <rect x="357" width="10" height="10" fill="#81FBA5" />
      <rect x="370" width="10" height="10" fill="#81FBA5" />
      <rect x="383" width="10" height="10" fill="#61DFCF" />
      <rect x="396" width="10" height="10" fill="#61DFCF" />
      <rect x="409" width="10" height="10" fill="#4CCCEA" />
      <rect x="422" width="10" height="10" fill="#44BFFC" />
      <rect x="435" width="10" height="10" fill="#44BFFC" />
      <rect x="448" width="10" height="10" fill="#44BFFC" />
      <rect x="461" width="10" height="10" fill="#44BFFC" />
      <rect x="474" width="10" height="10" fill="#5C41FF" />
      <rect x="487" width="10" height="10" fill="#5C41FF" />
      <rect x="500" width="10" height="10" fill="#5C41FF" />
      <rect x="513" width="10" height="10" fill="#5C41FF" />
      <rect x="526" width="10" height="10" fill="#746AFC" />
      <rect x="539" width="10" height="10" fill="#746AFC" />
      <rect x="552" width="10" height="10" fill="#746AFC" />
      <rect x="565" width="10" height="10" fill="#746AFC" />
      <rect x="578" width="10" height="10" fill="#746AFC" />
      <rect x="591" width="10" height="10" fill="#8080F0" />
      <rect x="604" width="10" height="10" fill="#8080F0" />
      <rect x="617" width="10" height="10" fill="#8080F0" />
      <rect x="630" width="10" height="10" fill="#8080F0" />
      <rect x="643" width="10" height="10" fill="#8080F0" />
      <rect x="656" width="10" height="10" fill="#909BF5" />
      <rect x="669" width="10" height="10" fill="#909BF5" />
      <rect x="682" width="10" height="10" fill="#909BF5" />
      <rect x="695" width="10" height="10" fill="#909BF5" />
      <rect x="708" width="10" height="10" fill="#909BF5" />
      <rect x="721" width="10" height="10" fill="#8AC2D5" />
      <rect x="734" width="10" height="10" fill="#8AC2D5" />
      <rect x="747" width="10" height="10" fill="#8AC2D5" />
      <rect x="760" width="10" height="10" fill="#8AC2D5" />
      <rect x="773" width="20" height="10" fill="#86DAC0" />
      <rect x="796" width="30" height="10" fill="#86DAC0" />
      <rect x="829" width="60" height="10" fill="#86DAC0" />
      <rect x="892" width="100" height="10" fill="#81FBA5" />
      <rect x="995" width="150" height="10" fill="#81FBA5" />
      <rect x="1148" width="292" height="10" fill="#81FBA5" />
    </g>
    <defs>
      <clipPath id="clip0_196_6045">
        <rect width="1440" height="10" fill="white" />
      </clipPath>
    </defs>{" "}
  </svg>
);

const roles = {
  "Software Dev (external)": {
    type: "end-to-end",
    x: 10,
    y: 95,
    description:
      "Focus on building external apps, typically uses off the shelf models with minimal customization.",
    target: "targetUsers",
  },
  "Data engineer": {
    type: "build",
    x: 50,
    y: 70,
    description:
      "Data pipeline construction and maintenance, implements data quality checks and validation",
    target: "targetUsers",
  },
  "MLOps engineer": {
    type: "govern",
    x: 70,
    y: 70,
    description:
      "Focus on model deployment monitoring & infrastructure, Focus containerization orchestration, CI/CD to ML",
    target: "targetUsers",
  },
  "ML engineer": {
    type: "govern",
    x: 75,
    y: 75,
    description:
      "Responsible for model implementation and optimization. Bridges research and production environments",
    target: "targetUsers",
  },
  "AI research scientist": {
    type: "build",
    x: 95,
    y: 65,
    description:
      "Conducts cutting-edge research, often academic focus. Focuses on new architectures & approaches, pushing boundaries",
    target: "targetUsers",
  },
  "Advanced data scientist": {
    type: "end-to-end",
    x: 90,
    y: 60,
    description:
      "Building foundational models within typically large organizations, involved in production deployment",
    target: "targetUsers",
  },
  "SRE (Site Reliability Eng)": {
    type: "platform",
    x: 10,
    y: 70,
    description:
      "Focused on platform reliability, scalability, performance optimization",
    target: "targetUsers",
  },
  "Security Engineer / InfoSec": {
    type: "platform",
    x: 10,
    y: 60,
    description:
      "Focused on security compliance, vulnerability assessment, access control",
    target: "targetUsers",
  },
  "Mid-level data scientist": {
    type: "build",
    x: 50,
    y: 50,
    description: "Primarily code-first builders using libraries / API/SDK",
    target: "targetUsers",
  },
  "Decision scientist": {
    type: "end-to-end",
    x: 80,
    y: 50,
    description:
      "Bridges gap between raw data insights and actionable business strategies",
    target: "targetUsers",
  },
  "Prompt engineer": {
    type: "build",
    x: 30,
    y: 40,
    description:
      "Crafts and optimizes LLM prompts, tests outputs & system behavior",
    target: "targetUsers",
  },
  "Model risk manager / AI governance": {
    type: "govern",
    x: 45,
    y: 30,
    description: "Focus on model validation, compliance, and risk management",
    target: "targetUsers",
  },
  "System admin / Corporate IT": {
    type: "platform",
    x: 10,
    y: 25,
    description: "Focused on internal systems management, user support",
    target: "targetUsers",
  },
  "Data analyst": {
    type: "build",
    x: 80,
    y: 30,
    description: "Low-code builder focused on data insights, may use AutoML",
    target: "nonTargetUsers",
  },
  "Software Developer (internal)": {
    type: "end-to-end",
    x: 25,
    y: 85,
    description:
      "Focus on building web apps within organizations, with high degrees of model / blueprint customization",
    target: "nonTargetUsers",
  },
  "Statistician/Actuary": {
    type: "build",
    x: 90,
    y: 10,
    description:
      "Deep statistical and mathematical expertise but typically work with established tools rather than deploying production systems.",
    target: "nonTargetUsers",
  },
  "AI Product manager": {
    type: "end-to-end",
    x: 45,
    y: 40,
    description:
      "Bridges technical & business needs with strong ML knowledge. Defines requirements & operating boundaries. Partners closely with ML engineers to evaluate performance and communicate limitations to stakeholders.",
    target: "nonTargetUsers",
  },
  "Business analyst": {
    type: "build",
    x: 30,
    y: 18,
    description:
      "Data focus (ETA / data analysis). Responsible for interpreting data and not responsible for building AI models.",
    target: "nonTargetUsers",
  },
  "Internal users (CFDS)": {
    type: "end-to-end",
    x: 80,
    y: 65,
    description:
      "Demo focus, unique needs that need ot be considered but tracked separately to paying customers.",
    target: "nonTargetUsers",
  },
  "Business stakeholders": {
    type: "end-to-end",
    x: 12,
    y: 10,
    description:
      "Responsible for interpreting data and analytics to make strategic decisions, but do not directly build or operate AI systems. Interacts with reports, apps.",
    target: "nonTargetUsers",
  },
};

const filterTypes = {
  build: { label: "Build focus", color: "#81FBA5" },
  govern: { label: "Govern/Operate focus", color: "#44BFFC" },
  "end-to-end": { label: "End-to-end focus", color: "#5C41FF" },
  platform: { label: "Platform focus", color: "#FFFF54" },
};

const PractitionerLandscape = () => {
  const [hoveredRole, setHoveredRole] = useState(null);
  const [activeFilter, setActiveFilter] = useState(null);

  const filteredRoles = Object.entries(roles).filter(([name, role]) => {
    if (!activeFilter) return true;
    if (filterTypes[activeFilter]) {
      return role.type === activeFilter;
    } else {
      return role.target === activeFilter;
    }
  });

  return (
    <div>
      <div className="bg-black text-white">
        <div className="max-w-6xl mx-auto pt-12 px-8">
          <DataRobotLogo />
          <h1 className="text-3xl font-bold mt-8 mb-16">
            AI/ML Platform Practitioners
          </h1>
        </div>
        <div className="h-[10px]">
          <GradientBar />
        </div>
      </div>

      <div className="flex">
        <div className="flex flex-col gap-4 p-8">
          <h3 className="text-sm text-gray-500 mb-3">
            Select to filter results shown. <br />
            Hover on roles to see more detail.
          </h3>
          {["targetUsers", "nonTargetUsers"].map((key) => (
            <button
              key={key}
              onClick={() => setActiveFilter(activeFilter === key ? null : key)}
              className={`flex items-center gap-2 px-4 py-2 rounded-lg border border-gray-300 transition-colors ${
                activeFilter === key ? "bg-gray-100" : "hover:bg-gray-50"
              }`}
            >
              <span className="text-sm font-bold">
                {key === "targetUsers" ? "Target users" : "Non-target users"}
              </span>
            </button>
          ))}
          {Object.entries(filterTypes).map(([key, { label, color }]) => (
            <button
              key={key}
              onClick={() => setActiveFilter(activeFilter === key ? null : key)}
              className={`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${
                activeFilter === key ? "bg-gray-100" : "hover:bg-gray-50"
              }`}
            >
              <div
                className="w-4 h-4 rounded-full"
                style={{ backgroundColor: color }}
              />
              <span className="text-sm font-bold">{label}</span>
            </button>
          ))}
        </div>

        <div className="flex-1 relative border rounded-lg aspect-[10/8] bg-white">
          <div className="absolute inset-0 m-16">
            <div className="absolute inset-0 border border-gray-800" />
            <div className="absolute left-0 right-0 top-1/2 border-t border-gray-400" />
            <div className="absolute top-0 bottom-0 left-1/2 border-l border-gray-400" />
          </div>

          <div className="absolute left-6 top-1/2 font-bold -rotate-90 transform origin-left text-16px text-gray-800">
            Coding skills
          </div>
          <div className="absolute bottom-6 left-1/2 -translate-x-1/2 font-bold text-16px text-gray-800">
            Statistical skills
          </div>

          <div className="absolute inset-16">
            {filteredRoles.map(([name, { type, x, y, description }]) => (
              <div
                key={name}
                className={`absolute transition-opacity duration-300 ${
                  activeFilter &&
                  filterTypes[activeFilter] &&
                  type !== activeFilter
                    ? "opacity-20"
                    : "opacity-100"
                }`}
                style={{
                  left: `${x}%`,
                  top: `${100 - y}%`,
                  transform: "translate(-50%, -50%)",
                  zIndex: hoveredRole === name ? 100 : 1,
                }}
              >
                <div
                  className="relative group z-50 cursor-pointer"
                  onMouseEnter={() => setHoveredRole(name)}
                  onMouseLeave={() => setHoveredRole(null)}
                >
                  <div className="flex flex-col items-center">
                    <div
                      className="w-4 h-4 rounded-full mb-2 shadow-md group-hover:shadow-lg"
                      style={{
                        backgroundColor: filterTypes[type].color,
                        filter:
                          hoveredRole === name ? "brightness(0.8)" : "none",
                      }}
                    />
                    <span className="text-xs font-bold whitespace-nowrap">
                      {name}
                    </span>
                  </div>

                  {hoveredRole === name && (
                    <div className="absolute z-50 p-3 bg-white rounded-lg shadow-lg border w-48 -translate-x-1/2 left-1/2 mt-2">
                      <p className="text-xs text-gray-600">{description}</p>
                    </div>
                  )}
                </div>
              </div>
            ))}
          </div>

          <div className="absolute left-6 bottom-12 text-xs text-gray-500">
            Low
          </div>
          <div className="absolute left-6 top-12 text-xs text-gray-500">
            High
          </div>
          <div className="absolute bottom-6 left-12 text-xs text-gray-500">
            Low
          </div>
          <div className="absolute bottom-6 right-12 text-xs text-gray-500">
            High
          </div>
        </div>
      </div>
    </div>
  );
};

export default PractitionerLandscape;
